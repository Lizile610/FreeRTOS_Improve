# 03_保存现场的几种场景



函数被打断执行，可能有三种情况：发生中断、任务切换、调用子函数

这三种情况下保存现场的方式不同：

- 被硬件中断打断，保存一部分被用到的寄存器

- 被任务切换，则要保存所有寄存器，因为不知道哪些寄存器被用到

- 调用子函数，有约定俗成，以 A 函数调用 B 函数为例：

  假如调用 B 函数时，通过 R0、R1、R2 寄存器传参，这三个寄存器就无需保存（这几个寄存器是供 B 函数使用的，与 A 无关）